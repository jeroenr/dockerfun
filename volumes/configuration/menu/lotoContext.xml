<?xml version="1.0" standalone="yes" ?>
<definition>
    <portal>
        <context id="default" uri="/module/loto/action/SetMenuAction/menuId/110" collapsed="false">
            <i18n>menuGeneral</i18n>
            <role name="anonymous"/>
        </context>
        <context id="loggedin" uri="/module/loto/action/SetMenuAction/menuId/110" collapsed="true">
            <i18n>menuGeneral</i18n>
            <role name="everyone"/>
        </context>
        <context id="lotolist" uri="/module/loto/action/SetMenuAction/menuId/349" collapsed="false">
            <i18n>menuLotoLists</i18n>
            <role name="loto_creator"/>
            <role name="loto_approver"/>
            <role name="loto_issuer"/>
            <role name="loto_splitter"/>
            <role name="loto_list_template_creator"/>
            <role name="loto_point_template_creator"/>
            <role name="application_administrator"/>
        </context>
        <context id="lotolisttemplate" uri="/module/loto/action/SetMenuAction/menuId/410" collapsed="true">
            <i18n>menuLotoTemplates</i18n>
            <role name="loto_list_template_creator"/>
            <role name="loto_creator"/>
            <role name="application_administrator"/>
        </context>
        <context id="lotopoint" uri="/module/loto/action/SetMenuAction/menuId/505" collapsed="true">
            <i18n>menuLotoPoints</i18n>
            <role name="loto_point_template_creator"/>
            <role name="loto_creator"/>
            <role name="application_administrator"/>
        </context>
    </portal>
    <menu>
        <item id="100">
            <i18n>menuLOTOPlanned</i18n>
            <action name="Query">
                <objectClassName>ibanx.loto.IsolationListIF</objectClassName>
                <key>form</key>
                <form.lifecycleState.name>DRAFT</form.lifecycleState.name>
                <form.lifecycleState.name>PROPOSED</form.lifecycleState.name>
                <form.lifecycleState.name>ISOLATE</form.lifecycleState.name>
                <orderBy>dateModified</orderBy>
                <ascending>false</ascending>
            </action>
            <context>default</context>
            <context>loggedin</context>
        </item>
        <item id="110">
            <i18n>menuLOTOActive</i18n>
            <action name="Query">
                <objectClassName>ibanx.loto.IsolationListIF</objectClassName>
                <key>form</key>
                <form.lifecycleState.name>ACTIVE</form.lifecycleState.name>
                <orderBy>dateModified</orderBy>
                <ascending>false</ascending>
                <module>loto</module>
            </action>
            <context>default</context>
            <context>loggedin</context>
        </item>
        <item id="120">
            <i18n>menuLOTOClosed</i18n>
            <action name="Query">
                <objectClassName>ibanx.loto.IsolationListIF</objectClassName>
                <key>form</key>
                <form.lifecycleState.name>CLOSED</form.lifecycleState.name>
                <orderBy>dateModified</orderBy>
                <ascending>false</ascending>
            </action>
            <context>default</context>
            <context>loggedin</context>
        </item>
        <item id="130">
            <i18n>menuLOTORejected</i18n>
            <action name="Query">
                <objectClassName>ibanx.loto.IsolationListIF</objectClassName>
                <key>form</key>
                <form.lifecycleState.name>REJECTED</form.lifecycleState.name>
                <orderBy>dateModified</orderBy>
                <ascending>false</ascending>
            </action>
            <context>default</context>
            <context>loggedin</context>
        </item>
        
        <item id="150">
            <i18n>query</i18n>
            <action name="SearchObject">
                <objectClassName>ibanx.loto.IsolationListIF</objectClassName>
                <key>form</key>
                <!--<form.businessObjectType.aaV1>RA</form.businessObjectType.aaV1>-->
            </action>
            <context>default</context>
            <context>loggedin</context>            
        </item>

        <!-- LOTO LIST -->

        <item id="300" orgcontextrequired="true" advanced="true">
            <i18n>menuNewLOTO</i18n>
            <action name="loto.IsolationListAction">
                <eventSubmit_doNew>true</eventSubmit_doNew>
                <isTemplate>false</isTemplate>
                <objectClassName>ibanx.loto.IsolationListIF</objectClassName>
            </action>
            <context>lotolist</context>
        </item>
        <item id="305" orgcontextrequired="true" advanced="true">
            <i18n>menuNewLOTOBasedOnTemplate</i18n>
            <action name="Query">
                <form.lifecycleState.name>TEMPLATE_ACTIVE</form.lifecycleState.name>
                <key>form</key>
               	<isTemplate>false</isTemplate>
                <resultTemplate>loto,list,copyfromtemplatelist.vm</resultTemplate>
                <objectClassName>ibanx.loto.IsolationListIF</objectClassName>
            </action>
            <context>lotolist</context>
        </item>

        <item id="310">
            <i18n>menuLOTODraft</i18n>
            <action name="Query">
                <objectClassName>ibanx.loto.IsolationListIF</objectClassName>
                <key>form</key>
                <form.lifecycleState.name>DRAFT</form.lifecycleState.name>
            </action>
            <context>lotolist</context>
        </item>
        <item id="320">
            <i18n>menuLOTOProposed</i18n>
            <action name="Query">
                <objectClassName>ibanx.loto.IsolationListIF</objectClassName>
                <key>form</key>
                <form.lifecycleState.name>PROPOSED</form.lifecycleState.name>
                <orderBy>dateModified</orderBy>
                <ascending>false</ascending>
            </action>
            <context>lotolist</context>
        </item>

        <item id="322">
            <i18n>menuLOTOIncomplete</i18n>
            <action name="Query">
                <objectClassName>ibanx.loto.IsolationListIF</objectClassName>
                <key>form</key>
                <form.lifecycleState.name>INCOMPLETE</form.lifecycleState.name>
                <orderBy>dateModified</orderBy>
                <ascending>false</ascending>
            </action>
            <context>lotolist</context>
        </item>

        <item id="325">
            <i18n>menuLOTORejected</i18n>
            <action name="Query">
                <objectClassName>ibanx.loto.IsolationListIF</objectClassName>
                <key>form</key>
                <form.lifecycleState.name>REJECTED</form.lifecycleState.name>
                <orderBy>dateModified</orderBy>
                <ascending>false</ascending>
            </action>
            <context>lotolist</context>
        </item>

        <item id="349">
            <i18n>menuLOTOIsolate</i18n>
            <action name="Query">
                <objectClassName>ibanx.loto.IsolationListIF</objectClassName>
                <key>form</key>
                <form.lifecycleState.name>ISOLATE</form.lifecycleState.name>
            </action>
            <context>lotolist</context>
        </item>
        <item id="370">
            <i18n>menuLOTOActive</i18n>
            <action name="Query">
                <objectClassName>ibanx.loto.IsolationListIF</objectClassName>
                <key>form</key>
                <form.lifecycleState.name>ACTIVE</form.lifecycleState.name>
            </action>
            <context>lotolist</context>
        </item>
        <item id="375">
            <i18n>menuLOTODeisolationDeIsolate</i18n>
            <action name="Query">
                <objectClassName>ibanx.loto.IsolationListIF</objectClassName>
                <key>form</key>
                <form.lifecycleState.name>DE_ISOLATE</form.lifecycleState.name>
            </action>
            <context>lotolist</context>
        </item>


        <item id="381">
            <i18n>menuLOTOFinished</i18n>
            <action name="Query">
                <objectClassName>ibanx.loto.IsolationListIF</objectClassName>
                <key>form</key>
                <form.lifecycleState.name>CLOSED</form.lifecycleState.name>
                <orderBy>dateModified</orderBy>
                <ascending>false</ascending>
            </action>
            <context>lotolist</context>
        </item>

        <!-- Template -->

        <item id="401" orgcontextrequired="true" advanced="true">
            <i18n>menuNewTemplateIsolationList</i18n>
            <action name="loto.IsolationListAction">
                <eventSubmit_doNew>true</eventSubmit_doNew>
                <objectClassName>ibanx.loto.IsolationListIF</objectClassName>
                <isTemplate>true</isTemplate>
                <new>true</new>
            </action>
            <context>lotolisttemplate</context>
        </item>
        <item id="405" orgcontextrequired="true" advanced="true">
            <i18n>menuNewTemplateLOTOBasedOnTemplate</i18n>
            <action name="Query">
                <form.lifecycleState.name>TEMPLATE_ACTIVE</form.lifecycleState.name>
                <key>form</key>
                <isTemplate>true</isTemplate>
                <resultTemplate>loto,list,copyfromtemplatelist.vm</resultTemplate>
                <objectClassName>ibanx.loto.IsolationListIF</objectClassName>
            </action>
            <context>lotolisttemplate</context>
        </item>
        <item id="410">
            <i18n>menuLOTOTemplateActive</i18n>
            <action name="Query">
                <objectClassName>ibanx.loto.IsolationListIF</objectClassName>
                <key>form</key>
                <form.lifecycleState.name>TEMPLATE_ACTIVE</form.lifecycleState.name>
                <orderBy>dateModified</orderBy>
                <ascending>false</ascending>
            </action>
            <context>lotolisttemplate</context>
        </item>


        <!-- LOTO POINT -->

        <item id="500" orgcontextrequired="true" advanced="true">
            <i18n>menuNewLOTOIsolationPoint</i18n>
            <action name="Query">
                <objectClassName>ibanx.loto.IsolationPointIF</objectClassName>
                <key>form</key>
                <form.lifecycleState.name>ACTIVE</form.lifecycleState.name>
                <form.standard>true</form.standard>
                <reportSpecId>newstdpoint</reportSpecId>
            </action>
            <context>lotopoint</context>
        </item>
        <item id="505">
            <i18n>menuLOTOIsolationPointsDraft</i18n>
            <action name="Query">
                <objectClassName>ibanx.loto.IsolationPointIF</objectClassName>
                <key>form</key>
                <form.lifecycleState.name>DRAFT</form.lifecycleState.name>
                <form.standard>true</form.standard>
            </action>
            <context>lotopoint</context>
        </item>
        <item id="510">
            <i18n>menuLOTOIsolationPointsActive</i18n>
            <action name="Query">
                <objectClassName>ibanx.loto.IsolationPointIF</objectClassName>
                <key>form</key>
                <form.lifecycleState.name>ACTIVE</form.lifecycleState.name>
                <form.standard>true</form.standard>
            </action>
            <context>default</context>
            <context>lotopoint</context>
        </item>
        <item id="520">
            <i18n>menuLOTOIsolationPointsObsolete</i18n>
            <action name="Query">
                <objectClassName>ibanx.loto.IsolationPointIF</objectClassName>
                <key>form</key>
                <form.lifecycleState.name>OBSOLETE</form.lifecycleState.name>
                <form.standard>true</form.standard>
            </action>
            <context>lotopoint</context>
        </item>

		<item id="530">
            <i18n>menuIsolatedLoToPoints</i18n>
            <action name="Query">
                <objectClassName>ibanx.loto.IsolationPointIF</objectClassName>
                <key>form</key>
                <form.isolationClaims.lifecycleState.name>VERIFIEDATTACHED</form.isolationClaims.lifecycleState.name>
								<reportSpecId>isolatedPoints</reportSpecId>
            </action>
            <context>lotopoint</context>
        </item>

        <item id="550">
            <i18n>menuLOTOAdhocIsolationPointsActive</i18n>
            <action name="Query">
                <objectClassName>ibanx.loto.IsolationPointIF</objectClassName>
                <key>form</key>
                <form.lifecycleState.name>ACTIVE</form.lifecycleState.name>
                <form.standard>false</form.standard>
                <orderBy>pointNumber</orderBy>
                <ascending>true</ascending>
            </action>
            <context>lotopoint</context>
        </item>

        <item id="560">
            <i18n>query</i18n>
            <action name="SearchObject">
                <objectClassName>ibanx.loto.IsolationPointIF</objectClassName>
                <key>form</key>
            </action>
            <context>default</context>
            <context>lotopoint</context>
        </item>
        <item id="565">
            <i18n>savedQueries</i18n>
            <action name="QuerySpecAction">
                <eventSubmit_doShowlist>sl</eventSubmit_doShowlist>
                <objectClassName>ibanx.report.QuerySpecIF</objectClassName>
                <qsObjectClassName>ibanx.loto.IsolationPointIF</qsObjectClassName>
            </action>
            <context>default</context>
            <context>lotopoint</context>
        </item>
    </menu>
</definition>
