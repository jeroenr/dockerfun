<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE forms PUBLIC "-//iBanx//Dynamic Forms 1.0//-" "http://www.ibanx-hse.com/dtds/DynamicForms.dtd">
<forms>

    <fieldset name="TASK:SECTION:HIDDEN_FIELDS" showlegend="false">
        <hidden name="objectKey" persist="false"/>
    </fieldset>

    <fieldset name="TASK:SECTION:TASK:CREATE" label="TASK:SECTION:TASK">
        <textarea name="title" maxLength="1000" required="true" width="wide" label="taskTitle"/>
        <select name="priority">
            <source class="valuelist" valuelistNameRef="priorities" display="description"/>
        </select>
        <suggest name="assignee">
            <source class="userlist"/>
        </suggest>
        <date name="dueDate"/>
    </fieldset>
    <fieldset name="TASK:SECTION:TASK">
        <shift name="shiftId" label="shift" persist="false"/>
        <textarea name="title" maxLength="1000" required="true" width="wide" label="taskTitle"/>
        <select name="priority">
            <source class="valuelist" valuelistNameRef="priorities" display="description"/>
        </select>
        <suggest name="assignee">
            <source class="userlist"/>
        </suggest>
        <date name="dueDate"/>
    </fieldset>

    <fieldset name="TASK:SECTION:MISCELLANEOUS">
        <url name="documentLink"/>
        <textarea name="description" maxLength="1000" width="wide"/>
        <document qualifier="task" />
    </fieldset>

    <fieldset name="TASK:LOGEVENT:SECTION" label="actionConfirmDeviationTitleCreateLogEvent">
        <select name="log">
            <source class="valuelist" valuelistNameRef="log" display="description"/>
        </select>
        <space name="space"/>
        <hidden name="businessObjectType" restricts="category" value="SIMPLE_LOGEVENT"/>
        <multiselect name="category">
            <source class="valuelist" valuelistNameRef="eventCategory" display="description"/>
        </multiselect>

        <datetime name="eventDate" required="true" value="now"/>
        <textarea name="title" maxLength="1000" required="true" width="wide"/>
    </fieldset>

    <fieldset name="TASK:SECTION:STATE_CHANGE" label="TASK:SECTION:TASK">
        <hidden name="key" value="form" persist="false"/>
        <hidden name="confirm" value="false" persist="false"/>
        <hidden name="funcLevelOne"/>
        <!--
        use readonly="true" on the checkbox when logevent is mandatory
        remove fieldset and check when no logevent wanted
         -->
        <checkbox name="createLogEvent" readonly="false" value="on" discloses="LOGEVENT_CREATE_ON_STATE_CHANGE" label="actionTitleCreateLogEvent" persist="false"/>
    </fieldset>

    <fieldset name="TASK:SECTION:CANCEL" label="TASK:SECTION:TASK">
        <hidden name="key" value="form" persist="false"/>
        <hidden name="confirm" value="false" persist="false"/>
        <hidden name="funcLevelOne"/>
        <!--
        use readonly="true" on the checkbox when logevent is mandatory
        remove fieldset and check when no logevent wanted
         -->
        <space name="space"/>
        <checkbox name="createLogEvent" readonly="true" value="on" discloses="LOGEVENT_CREATE_ON_STATE_CHANGE" label="actionTitleCreateLogEvent" persist="false"/>
    </fieldset>

    <fieldset name="TASK:SECTION:PROPAGATE" label="TASK:SECTION:TASK">
        <hidden name="key" value="form" persist="false"/>
        <hidden name="funcLevelOne" persist="false"/>
        <hidden name="shiftObjectKey" persist="false"/>
        <textfield name="dummyshiftObjectKey" label="shift" cssClass="shiftPicker" persist="false"/>
        <!--
        use readonly="true" on the checkbox when logevent is mandatory
        remove fieldset and check when no logevent wanted
         -->
        <space name="space"/>
        <checkbox name="createLogEvent" readonly="true" value="on" discloses="LOGEVENT_CREATE_ON_STATE_CHANGE" label="actionTitleCreateLogEvent" persist="false"/>
    </fieldset>

    <form name="TASK:STATE_CHANGE">
        <fieldsetref name="TASK:LOGEVENT:SECTION"/>
    </form>

    <form name="DEFAULT_TASK:CREATE">
        <fieldsetref name="TASK:SECTION:HIDDEN_FIELDS"/>
        <fieldsetref name="GENERIC:SECTION:PBS"/>
        <fieldsetref name="TASK:SECTION:TASK:CREATE"/>
        <fieldsetref name="TASK:SECTION:MISCELLANEOUS"/>
        <fieldsetref name="GENERIC:SCQ:WHITELISTING"/>
    </form>
    <form name="DEFAULT_TASK:EDIT">
        <fieldsetref name="TASK:SECTION:HIDDEN_FIELDS"/>
        <fieldsetref name="GENERIC:SECTION:PBS"/>
        <fieldsetref name="TASK:SECTION:TASK"/>
        <fieldsetref name="TASK:SECTION:MISCELLANEOUS"/>
        <fieldsetref name="GENERIC:SCQ:WHITELISTING"/>
    </form>
    <form name="DEFAULT_TASK:EDIT:START">
        <fieldsetref name="TASK:SECTION:STATE_CHANGE"/>
        <fieldsetref name="LOGEVENT_CREATE_ON_STATE_CHANGE"/>
        <fieldsetref name="GENERIC:SCQ:WHITELISTING"/>
    </form>
    <form name="DEFAULT_TASK:EDIT:FINISH">
        <fieldsetref name="TASK:SECTION:STATE_CHANGE"/>
        <datetime name="executionDate" required="true" value="now"/>
        <fieldsetref name="LOGEVENT_CREATE_ON_STATE_CHANGE"/>
        <fieldsetref name="GENERIC:SCQ:WHITELISTING"/>
    </form>
    <form name="DEFAULT_TASK:EDIT:CANCEL">
        <fieldsetref name="TASK:SECTION:CANCEL"/>
        <fieldsetref name="LOGEVENT_CREATE_ON_STATE_CHANGE"/>
        <fieldsetref name="GENERIC:SCQ:WHITELISTING"/>
    </form>
    <form name="DEFAULT_TASK:EDIT:PROPAGATE">
        <fieldsetref name="TASK:SECTION:PROPAGATE"/>
        <fieldsetref name="LOGEVENT_CREATE_ON_STATE_CHANGE"/>
        <fieldsetref name="GENERIC:SCQ:WHITELISTING"/>
    </form>
    <form name="DEFAULT_TASK:VIEW:1" mode="view">
        <fieldsetref name="GENERIC:SECTION:PBS"/>
        <fieldsetref name="TASK:SECTION:TASK"/>
        <fieldsetref name="TASK:SECTION:MISCELLANEOUS"/>
    </form>
    <form name="DEFAULT_TASK:AUDIT">
        <fieldsetref name="GENERIC:SECTION:PBS"/>
        <fieldsetref name="TASK:SECTION:TASK"/>
        <fieldsetref name="TASK:SECTION:MISCELLANEOUS"/>

        <datetime name="correlationDate"/>
        <datetime name="executionDate"/>
    </form>

    <form name="EVALUATE_PERMIT_TASK:CREATE">
        <fieldsetref name="TASK:SECTION:HIDDEN_FIELDS"/>
        <fieldsetref name="GENERIC:SECTION:PBS"/>
        <fieldsetref name="TASK:SECTION:TASK:CREATE"/>
        <fieldsetref name="TASK:SECTION:MISCELLANEOUS"/>
        <fieldsetref name="GENERIC:SCQ:WHITELISTING"/>
    </form>
    <form name="EVALUATE_PERMIT_TASK:EDIT">
        <fieldsetref name="TASK:SECTION:HIDDEN_FIELDS"/>
        <fieldsetref name="GENERIC:SECTION:PBS"/>
        <fieldsetref name="TASK:SECTION:TASK"/>
        <fieldsetref name="TASK:SECTION:MISCELLANEOUS"/>
        <fieldsetref name="GENERIC:SCQ:WHITELISTING"/>
    </form>
    <form name="EVALUATE_PERMIT_TASK:EDIT:START">
        <fieldsetref name="TASK:SECTION:STATE_CHANGE"/>
        <fieldsetref name="LOGEVENT_CREATE_ON_STATE_CHANGE"/>
        <fieldsetref name="GENERIC:SCQ:WHITELISTING"/>
    </form>
    <form name="EVALUATE_PERMIT_TASK:EDIT:FINISH">
        <fieldsetref name="TASK:SECTION:STATE_CHANGE"/>
        <datetime name="executionDate" required="true" value="now"/>
        <fieldsetref name="LOGEVENT_CREATE_ON_STATE_CHANGE"/>
        <fieldsetref name="GENERIC:SCQ:WHITELISTING"/>
    </form>
    <form name="EVALUATE_PERMIT_TASK:EDIT:CANCEL">
        <fieldsetref name="TASK:SECTION:CANCEL"/>
        <fieldsetref name="LOGEVENT_CREATE_ON_STATE_CHANGE"/>
        <fieldsetref name="GENERIC:SCQ:WHITELISTING"/>
    </form>
    <form name="EVALUATE_PERMIT_TASK:EDIT:PROPAGATE">
        <fieldsetref name="TASK:SECTION:PROPAGATE"/>
        <fieldsetref name="LOGEVENT_CREATE_ON_STATE_CHANGE"/>
        <fieldsetref name="GENERIC:SCQ:WHITELISTING"/>
    </form>
    <form name="EVALUATE_PERMIT_TASK:VIEW:1" mode="view">
        <fieldsetref name="GENERIC:SECTION:PBS"/>
        <fieldsetref name="TASK:SECTION:TASK"/>
        <fieldsetref name="TASK:SECTION:MISCELLANEOUS"/>
    </form>
    <form name="EVALUATE_PERMIT_TASK:AUDIT">
        <fieldsetref name="GENERIC:SECTION:PBS"/>
        <fieldsetref name="TASK:SECTION:TASK"/>
        <fieldsetref name="TASK:SECTION:MISCELLANEOUS"/>

        <datetime name="correlationDate"/>
        <datetime name="executionDate"/>
    </form>
</forms>
