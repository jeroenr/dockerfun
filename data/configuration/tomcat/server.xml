<?xml version='1.0' encoding='utf-8'?>
<Server port="8005" shutdown="SHUTDOWN">
	<Listener className="org.apache.catalina.core.AprLifecycleListener" SSLEngine="on"/>
	<Listener className="org.apache.catalina.core.JasperListener"/>
	<Listener className="org.apache.catalina.core.JreMemoryLeakPreventionListener"/>
	<Listener className="org.apache.catalina.mbeans.ServerLifecycleListener"/>
	<Listener className="org.apache.catalina.mbeans.GlobalResourcesLifecycleListener"/>

	<GlobalNamingResources>
		<Resource name="jdbc/unite" auth="Container" type="javax.sql.DataSource"
				maxActive="100" maxIdle="30" maxWait="10000"
				username="root" driverClassName="com.mysql.jdbc.Driver" password="${unite.password}"
				url="jdbc:mysql://localhost:3306/${unite.database}"/>
		<Resource name="mail/unite" auth="Container" type="javax.mail.Session" mail.smtp.host="localhost"
			mail.smtp.port="3025" />
		<Resource name="UserDatabase" auth="Container"
				type="org.apache.catalina.UserDatabase"
				description="User database that can be updated and saved"
				factory="org.apache.catalina.users.MemoryUserDatabaseFactory"
				pathname="conf/tomcat-users.xml"/>
	</GlobalNamingResources>
	<Service name="Catalina">
		<Connector port="8888" protocol="HTTP/1.1" connectionTimeout="20000" redirectPort="8443"/>
		<Connector port="8009" protocol="AJP/1.3" redirectPort="8443"/>
		<Engine name="Catalina" defaultHost="localhost">
			<Realm className="org.apache.catalina.realm.JAASRealm" appName="CustomLogin"
					userClassNames="nl.ibanx.jaas.UniteUserPrincipal"
					roleClassNames="nl.ibanx.jaas.UniteRolePrincipal">
			</Realm>
			<Host name="localhost" appBase="webapps" unpackWARs="true" autoDeploy="true"
					xmlValidation="false" xmlNamespaceAware="false">
				<Valve className="org.apache.catalina.authenticator.SingleSignOn"/>
			</Host>
		</Engine>
	</Service>
</Server>
