
@SQL,UPDATE IBANX_PERM SET P_CODE = '103' WHERE P_CODE = '102'
@SQL,UPDATE IBANX_PERM SET P_CODE = '102' WHERE P_CODE = '101'
@SQL,UPDATE IBANX_PERM SET P_CODE = '101' WHERE P_CODE = '100'

## defines permission on isolation lists
permission,,,,,ibanx.security.Permission,300,CREATE_ISOLATION_ACTIVITIES,Create isolatie activities on an isolationlist,GLOBAL,true,true
permission,,,,,ibanx.security.Permission,305,CREATE_DE_ISOLATION_ACTIVITIES,Create de-isolatie activities on an isolationlist,GLOBAL,true,true
permission,,,,,ibanx.security.Permission,310,UPDATE_ISOLATION_ACTIVITIES,Update isolatie activities on an isolationlist,GLOBAL,true,true
permission,,,,,ibanx.security.Permission,315,UPDATE_DE_ISOLATION_ACTIVITIES,Update de-isolatie activities on an isolationlist,GLOBAL,true,true
permission,,,,,ibanx.security.Permission,320,EXECUTE_ISOLATION_ACTIVITIES,Execute isolatie activities on an isolationlist,GLOBAL,true,true
permission,,,,,ibanx.security.Permission,325,EXECUTE_DE_ISOLATION_ACTIVITIES,Execute de-isolatie activities on an isolationlist,GLOBAL,true,true
permission,,,,,ibanx.security.Permission,330,REMOVE_ISOLATION_ACTIVITIES,Remove isolatie activities on an isolationlist,GLOBAL,true,true
permission,,,,,ibanx.security.Permission,335,REMOVE_DE_ISOLATION_ACTIVITIES,Remove de-isolatie activities on an isolationlist,GLOBAL,true,true
permission,,,,,ibanx.security.Permission,340,CREATE_CLAIMS,Create claims on an isolationlist,GLOBAL,true,true
permission,,,,,ibanx.security.Permission,345,UPDATE_CLAIMS,Update claims on an isolationlist,GLOBAL,true,true
permission,,,,,ibanx.security.Permission,350,REMOVE_CLAIMS,Remove claims on an isolationlist,GLOBAL,true,true
permission,,,,,ibanx.security.Permission,355,MOVE_CLAIMS,Move claims on an isolationlist,GLOBAL,true,true

role,application_configurator,,nl::application configurator;en::application configurator
orgrolemap,GLOBAL,application_configurator

## change acl names to strict use of naming regime
## mysql
@SQL,UPDATE IBANX_ACL AS ACL\, IBANX_LIFECYCLE_STATE AS STATE\, IBANX_LIFECYCLE AS LC SET ACL.NAME = CONCAT('StateAcl '\, LC.NR\,'-'\,STATE.NAME) WHERE ACL.ID = STATE.STATE_ACL_ID AND STATE.LIFECYCLE_ID = LC.ID,mysql
## oracle
@SQL,MERGE INTO IBANX_ACL N_ACL USING (SELECT ACL.ID ID\,  CONCAT('StateAcl '\, CONCAT(LC.NR\, CONCAT('-'\,STATE.NAME))) NEW_NAME FROM IBANX_ACL ACL\, IBANX_LIFECYCLE_STATE STATE\, IBANX_LIFECYCLE LC WHERE ACL.ID = STATE.STATE_ACL_ID AND STATE.LIFECYCLE_ID = LC.ID) T_ACL ON (N_ACL.ID = T_ACL.ID) WHEN MATCHED THEN UPDATE SET N_ACL.NAME = T_ACL.NEW_NAME,oracle
## mssql
@SQL,UPDATE IBANX_ACL SET NAME = 'StateAcl ' + LC.NR + '-' + STATE.NAME FROM IBANX_ACL ACL\, IBANX_LIFECYCLE_STATE STATE\, IBANX_LIFECYCLE LC WHERE ACL.ID = STATE.STATE_ACL_ID AND STATE.LIFECYCLE_ID = LC.ID,mssql


@delete,acl,name,Message ACL,=

!phinternalmessage,acl,,,,,ibanx.security.Acl,InternalMessage ACL,Generated Master ACL describing permissions for roles/users on internal messages,ibanx.message.InternalMessage,2,GLOBAL,true,true,false
roleperm,InternalMessage ACL,everyone,CREATE
roleperm,InternalMessage ACL,system_administrator,BROWSE
roleperm,InternalMessage ACL,system_administrator,READ
roleperm,InternalMessage ACL,system_administrator,UPDATE
roleperm,InternalMessage ACL,system_administrator,DELETE
roleperm,InternalMessage ACL,owner,BROWSE
roleperm,InternalMessage ACL,owner,READ
roleperm,InternalMessage ACL,owner,UPDATE
roleperm,InternalMessage ACL,owner,DELETE
@SQL,UPDATE IBANX_INTERNAL_MESSAGE SET ACL_ID = !phinternalmessage


@delete,queryspec,number,ALL-SITES,0
queryspec,ALL-SITES,,All sites,,,,,All sites,sysadmin,ibanx.org.Organization,true,1,GLOBAL,true
@startTransaction
@method,addColumn,queryspec,ALL-SITES,id
@method,addColumn,queryspec,ALL-SITES,name
@method,set,queryspec,ALL-SITES,key,form
@method,set,queryspec,ALL-SITES,form.system,false
@method,set,queryspec,ALL-SITES,operator.form.system,0
@method,set,queryspec,ALL-SITES,form.entityClass,ibanx.org.Organization
@method,set,queryspec,ALL-SITES,operator.form.entityClass,0
@method,set,queryspec,ALL-SITES,form.businessObjectType.number,DEFAULT_SITE
@method,set,queryspec,ALL-SITES,operator.form.businessObjectType.number,0
@method,set,queryspec,ALL-SITES,disableAccessControl,true
@endTransaction

@delete,queryspec,number,ALL-SITES-IDENTITY,0
queryspec,ALL-SITES-IDENTITY,,All sites,,,,,All sites,sysadmin,ibanx.org.Organization,true,1,GLOBAL,true
@startTransaction
@method,addColumn,queryspec,ALL-SITES-IDENTITY,number
@method,addColumn,queryspec,ALL-SITES-IDENTITY,name
@method,set,queryspec,ALL-SITES-IDENTITY,key,form
@method,set,queryspec,ALL-SITES-IDENTITY,form.system,false
@method,set,queryspec,ALL-SITES-IDENTITY,operator.form.system,0
@method,set,queryspec,ALL-SITES-IDENTITY,form.entityClass,ibanx.org.Organization
@method,set,queryspec,ALL-SITES-IDENTITY,operator.form.entityClass,0
@method,set,queryspec,ALL-SITES-IDENTITY,form.businessObjectType.number,DEFAULT_SITE
@method,set,queryspec,ALL-SITES-IDENTITY,operator.form.businessObjectType.number,0
@method,set,queryspec,ALL-SITES-IDENTITY,disableAccessControl,true
@endTransaction

@delete,queryspec,number,ALL-PLANTS,0
queryspec,ALL-PLANTS,,All plants,,,,,All plants,sysadmin,ibanx.org.Organization,true,1,GLOBAL,true
@startTransaction
@method,addColumn,queryspec,ALL-PLANTS,id
@method,addColumn,queryspec,ALL-PLANTS,number
@method,addColumn,queryspec,ALL-PLANTS,name
@method,addColumn,queryspec,ALL-PLANTS,description
@method,set,queryspec,ALL-PLANTS,key,form
@method,set,queryspec,ALL-PLANTS,form.system,false
@method,set,queryspec,ALL-PLANTS,form.entityClass,ibanx.org.Organization
@method,set,queryspec,ALL-PLANTS,operator.form.entityClass,0
@method,set,queryspec,ALL-PLANTS,operator.form.system,0
@method,set,queryspec,ALL-PLANTS,form.businessObjectType.number,DEFAULT_PLANT
@method,set,queryspec,ALL-PLANTS,operator.form.businessObjectType.number,0
@method,set,queryspec,ALL-PLANTS,disableAccessControl,false
@endTransaction

@delete,queryspec,number,ALL-PLANTS-IDENTITY,0
queryspec,ALL-PLANTS-IDENTITY,,All plants,,,,,All plants,sysadmin,ibanx.org.Organization,true,1,GLOBAL,true
@startTransaction
@method,addColumn,queryspec,ALL-PLANTS-IDENTITY,number
@method,addColumn,queryspec,ALL-PLANTS-IDENTITY,name
@method,set,queryspec,ALL-PLANTS-IDENTITY,key,form
@method,set,queryspec,ALL-PLANTS-IDENTITY,form.system,false
@method,set,queryspec,ALL-PLANTS-IDENTITY,operator.form.system,0
@method,set,queryspec,ALL-PLANTS-IDENTITY,form.entityClass,ibanx.org.Organization
@method,set,queryspec,ALL-PLANTS-IDENTITY,operator.form.entityClass,0
@method,set,queryspec,ALL-PLANTS-IDENTITY,form.businessObjectType.number,DEFAULT_PLANT
@method,set,queryspec,ALL-PLANTS-IDENTITY,operator.form.businessObjectType.number,0
@method,set,queryspec,ALL-PLANTS-IDENTITY,disableAccessControl,true
@endTransaction

@delete,queryspec,number,ALL-ACTIVE-SITES,0
queryspec,ALL-ACTIVE-SITES,,All active sites,,,,,All active sites,sysadmin,ibanx.org.Organization,true,1,GLOBAL,true
@startTransaction
@method,addColumn,queryspec,ALL-ACTIVE-SITES,id
@method,addColumn,queryspec,ALL-ACTIVE-SITES,name
@method,set,queryspec,ALL-ACTIVE-SITES,key,form
@method,set,queryspec,ALL-ACTIVE-SITES,form.system,false
@method,set,queryspec,ALL-ACTIVE-SITES,operator.form.system,0
@method,set,queryspec,ALL-ACTIVE-SITES,form.entityClass,ibanx.org.Organization
@method,set,queryspec,ALL-ACTIVE-SITES,operator.form.entityClass,0
@method,set,queryspec,ALL-ACTIVE-SITES,form.businessObjectType.number,DEFAULT_SITE
@method,set,queryspec,ALL-ACTIVE-SITES,operator.form.businessObjectType.number,0
@method,set,queryspec,ALL-ACTIVE-SITES,form.lifecycleState.name,ACTIVE
@method,set,queryspec,ALL-ACTIVE-SITES,operator.form.lifecycleState.name,0
@method,set,queryspec,ALL-ACTIVE-SITES,disableAccessControl,true
@endTransaction

@delete,queryspec,number,ALL-ACTIVE-SITES-IDENTITY,0
queryspec,ALL-ACTIVE-SITES-IDENTITY,,All active sites,,,,,All active sites,sysadmin,ibanx.org.Organization,true,1,GLOBAL,true
@startTransaction
@method,addColumn,queryspec,ALL-ACTIVE-SITES-IDENTITY,number
@method,addColumn,queryspec,ALL-ACTIVE-SITES-IDENTITY,name
@method,set,queryspec,ALL-ACTIVE-SITES-IDENTITY,key,form
@method,set,queryspec,ALL-ACTIVE-SITES-IDENTITY,form.system,false
@method,set,queryspec,ALL-ACTIVE-SITES-IDENTITY,operator.form.system,0
@method,set,queryspec,ALL-ACTIVE-SITES-IDENTITY,form.entityClass,ibanx.org.Organization
@method,set,queryspec,ALL-ACTIVE-SITES-IDENTITY,operator.form.entityClass,0
@method,set,queryspec,ALL-ACTIVE-SITES-IDENTITY,form.businessObjectType.number,DEFAULT_SITE
@method,set,queryspec,ALL-ACTIVE-SITES-IDENTITY,operator.form.businessObjectType.number,0
@method,set,queryspec,ALL-ACTIVE-SITES-IDENTITY,form.lifecycleState.name,ACTIVE
@method,set,queryspec,ALL-ACTIVE-SITES-IDENTITY,operator.form.lifecycleState.name,0
@method,set,queryspec,ALL-ACTIVE-SITES-IDENTITY,disableAccessControl,true
@endTransaction

@delete,queryspec,number,ALL-ACTIVE-PLANTS,0
queryspec,ALL-ACTIVE-PLANTS,,All active plants,,,,,All active plants,sysadmin,ibanx.org.Organization,true,1,GLOBAL,true
@startTransaction
@method,addColumn,queryspec,ALL-ACTIVE-PLANTS,id
@method,addColumn,queryspec,ALL-ACTIVE-PLANTS,number
@method,addColumn,queryspec,ALL-ACTIVE-PLANTS,name
@method,addColumn,queryspec,ALL-ACTIVE-PLANTS,description
@method,set,queryspec,ALL-ACTIVE-PLANTS,key,form
@method,set,queryspec,ALL-ACTIVE-PLANTS,form.system,false
@method,set,queryspec,ALL-ACTIVE-PLANTS,form.entityClass,ibanx.org.Organization
@method,set,queryspec,ALL-ACTIVE-PLANTS,operator.form.entityClass,0
@method,set,queryspec,ALL-ACTIVE-PLANTS,operator.form.system,0
@method,set,queryspec,ALL-ACTIVE-PLANTS,form.businessObjectType.number,DEFAULT_PLANT
@method,set,queryspec,ALL-ACTIVE-PLANTS,operator.form.businessObjectType.number,0
@method,set,queryspec,ALL-ACTIVE-PLANTS,form.lifecycleState.name,ACTIVE
@method,set,queryspec,ALL-ACTIVE-PLANTS,operator.form.lifecycleState.name,0
@method,set,queryspec,ALL-ACTIVE-PLANTS,disableAccessControl,false
@endTransaction

@delete,queryspec,number,ALL-ACTIVE-PLANTS-IDENTITY,0
queryspec,ALL-ACTIVE-PLANTS-IDENTITY,,All active plants,,,,,All active plants,sysadmin,ibanx.org.Organization,true,1,GLOBAL,true
@startTransaction
@method,addColumn,queryspec,ALL-ACTIVE-PLANTS-IDENTITY,number
@method,addColumn,queryspec,ALL-ACTIVE-PLANTS-IDENTITY,name
@method,set,queryspec,ALL-ACTIVE-PLANTS-IDENTITY,key,form
@method,set,queryspec,ALL-ACTIVE-PLANTS-IDENTITY,form.system,false
@method,set,queryspec,ALL-ACTIVE-PLANTS-IDENTITY,operator.form.system,0
@method,set,queryspec,ALL-ACTIVE-PLANTS-IDENTITY,form.entityClass,ibanx.org.Organization
@method,set,queryspec,ALL-ACTIVE-PLANTS-IDENTITY,operator.form.entityClass,0
@method,set,queryspec,ALL-ACTIVE-PLANTS-IDENTITY,form.businessObjectType.number,DEFAULT_PLANT
@method,set,queryspec,ALL-ACTIVE-PLANTS-IDENTITY,operator.form.businessObjectType.number,0
@method,set,queryspec,ALL-ACTIVE-PLANTS-IDENTITY,form.lifecycleState.name,ACTIVE
@method,set,queryspec,ALL-ACTIVE-PLANTS-IDENTITY,operator.form.lifecycleState.name,0
@method,set,queryspec,ALL-ACTIVE-PLANTS-IDENTITY,disableAccessControl,true
@endTransaction

businessobjecttype,DEFAULT_SITE,,Site,,,,,Site,ibanx.org.OrganizationIF,ORG_STATE,-1,-1,null,GLOBAL,true,null,null,null,null,null,false
@startTransaction
@method,set,businessobjecttype,DEFAULT_SITE,class0,site
@endTransaction

businessobjecttype,DEFAULT_PLANT,,Plant,,,,,Plant,ibanx.org.OrganizationIF,ORG_STATE,-1,-1,null,GLOBAL,true,null,null,null,null,null,false
@startTransaction
@method,set,businessobjecttype,DEFAULT_PLANT,class0,plant
@endTransaction

