<?xml version="1.0" standalone="yes" ?>
<definition>
    <portal>
        <context id="general" title="Algemeen" uri="/action/SetMenuAction/menuId/300" collapsed="false">
            <i18n>menuGeneralICQ</i18n>
            <role name="anonymous"/>
        </context>
        <context id="default" title="Algemeen" uri="/action/SetMenuAction/menuId/250" collapsed="false">
            <i18n>menuGeneralICQ</i18n>
            <role name="everyone"/>
        </context>
        <context id="loggedin" title="Algemeen" uri="/action/SetMenuAction/menuId/250" collapsed="true">
            <i18n>menuGeneralICQ</i18n>
            <role name="everyone"/>
        </context>
        <context id="reports" title="Reports" uri="/action/SetMenuAction/menuId/300" collapsed="true">
            <i18n>menuReports</i18n>
            <role name="everyone"/>
        </context>
        <context id="kpis" title="KPIs" collapsed="true">
            <i18n>menuKpiManagement</i18n>
            <role name="application_administrator"/>
        </context>
    </portal>

    <menu>
        <!-- if you want to enable/disable registering incident without having a plant selected then
             comment out/in the orgcontextrequired attribute
        -->
        <!-- item id="200" orgcontextrequired="true"-->
        <item id="200" advanced="true">
            <i18n>menuCreateIncident</i18n>
            <action name="incident.RegisterIncidentAction">
                <module>incident</module>
            </action>
            <context>default</context>
        </item>

        <item id="250">
            <i18n>menuIncidentDashboard</i18n>
            <action name="MyIncidentActivitiesAction">
                <module>incident</module>
            </action>
            <context>default</context>
        </item>

        <item id="300">
            <i18n>menuAllIncidents</i18n>
            <action name="Query">
                <objectClassName>ibanx.incident.IncidentIF</objectClassName>
                <key>form</key>
                <reportSpecId>INC1</reportSpecId>
            </action>
            <context>general</context>
            <context>loggedin</context>
        </item>

        <item id="305">
            <i18n>menuAllMySubmittedIncidents</i18n>
            <action name="Query">
                <objectClassName>ibanx.incident.IncidentIF</objectClassName>
                <key>form</key>
                <module>incident</module>
                <form.createdBy>$login</form.createdBy>
                <reportSpecId>INC1</reportSpecId>
            </action>
            <context>loggedin</context>
        </item>

        <item id="306">
            <i18n>menuAllMyReportedIncidents</i18n>
            <action name="Query">
                <objectClassName>ibanx.incident.IncidentIF</objectClassName>
                <key>form</key>
                <module>incident</module>
                <form.reporterId>$loginid</form.reporterId>
                <reportSpecId>INC1</reportSpecId>
            </action>
            <context>loggedin</context>
        </item>

        <item id="400">
            <i18n>menuMyActivities</i18n>
            <action name="incident.ViewIncidentActivitiesAction">
                <eventSubmit_doQuery>true</eventSubmit_doQuery>
                <objectClassName>ibanx.incident.IncidentActivityIF</objectClassName>
                <key>form</key>
                <module>incident</module>
                <form.assignee>$login</form.assignee>
                <reportSpecId>ACT1</reportSpecId>
            </action>
            <context>loggedin</context>
        </item>

        <item id="410">
            <i18n>menuAllOpenActivities</i18n>
            <action name="incident.ViewIncidentActivitiesAction">
                <eventSubmit_doQuery>true</eventSubmit_doQuery>
                <objectClassName>ibanx.incident.IncidentActivityIF</objectClassName>
                <key>form</key>
                <form.state>APPROVED</form.state>
                <reportSpecId>ACT1</reportSpecId>
            </action>
            <context>general</context>
            <context>loggedin</context>
        </item>

        <item id="500">
            <i18n>menuExportIncidents</i18n>
            <action name="Query">
                <eventSubmit_doQuery>true</eventSubmit_doQuery>
                <objectClassName>ibanx.incident.IncidentIF</objectClassName>
                <key>form</key>
                <reportSpecId>INC2EXCEL</reportSpecId>
            </action>
            <context>loggedin</context>
        </item>

        <item id="600">
            <i18n>menuAllIncidentsLastDay</i18n>
            <action name="Query">
                <objectClassName>ibanx.incident.IncidentIF</objectClassName>
                <key>form</key>
                <reportSpecId>INCSTATS</reportSpecId>
                <queryspec>INCIDENTSLASTDAY</queryspec>
            </action>
            <context>reports</context>
        </item>
        <item id="605">
            <i18n>menuAllIncidentsLastWeek</i18n>
            <action name="Query">
                <objectClassName>ibanx.incident.IncidentIF</objectClassName>
                <key>form</key>
                <reportSpecId>INCSTATS</reportSpecId>
                <queryspec>INCIDENTSLASTWEEK</queryspec>
            </action>
            <context>reports</context>
        </item>
        <item id="610">
            <i18n>menuAllIncidentsLastMonth</i18n>
            <action name="Query">
                <objectClassName>ibanx.incident.IncidentIF</objectClassName>
                <key>form</key>
                <reportSpecId>INCSTATS</reportSpecId>
                <queryspec>INCIDENTSLASTMONTH</queryspec>
            </action>
            <context>reports</context>
        </item>

        <item id="620">
            <i18n>menuTrafficLight</i18n>
            <action name="Query">
                <objectClassName>ibanx.incident.IncidentActivityIF</objectClassName>
                <key>form</key>
                <reportSpecId>INCSTATSTRAFFICLIGHT</reportSpecId>
                <queryspec>OPENACTIVITIES</queryspec>
            </action>
            <context>reports</context>
        </item>

        <item id="5745" advanced="true">
            <i18n>menuRegisterStatistic1</i18n>
            <action name="RegisterStatisticAction">
                <form>KPI:STAT:WORKEDHOURSMONTHLY</form>
            </action>
            <context>kpis</context>
        </item>

        <item id="5748" advanced="true">
            <i18n>menuKpiSettings</i18n>
            <action name="EditKpiSettingsAction">
            </action>
            <context>kpis</context>
        </item>
    </menu>
</definition>
