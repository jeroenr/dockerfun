## GENERAL

## which pcq modules are enabled
configurationSetting,permit.enabled,true
configurationSetting,ra.enabled,true
configurationSetting,tra.enabled,true
configurationSetting,loto.enabled,true

## which scq modules are enabled
configurationSetting,daydashboard.enabled,true
configurationSetting,shift.enabled,true
configurationSetting,portal.enabled,true
configurationSetting,search.enabled,true
configurationSetting,logevent.enabled,true
configurationSetting,deviation.enabled,true
configurationSetting,task.enabled,true
configurationSetting,instruction.enabled,true
configurationSetting,whiteboard.enabled,true
configurationSetting,admin.enabled,true
configurationSetting,support.enabled,true

## which chq modules are enabled
configurationSetting,moc.enabled,true
configurationSetting,incident.enabled,true

## which generic modules are enabled
configurationSetting,admin.enabled,true
configurationSetting,support.enabled,true

## ICQ

role,hse-supervisor,incident,nl::hse-supervisor;en::hse-supervisor;de::hse-aufseher;es::hse-superintende;fr::hse-superviseur

configurationSetting,incident.report.INCSTATS,{ name:[NEARMISS]\\,category:[NEARMISS] };{ name:[INCIDENT]\\,category:[INCIDENT] };{ name:[NONCONFORMITY]\\,category:[NONCONFORMITY] }

##
## TWO SETTINGS BELOW ARE USED BY JOB notify_incident_activity_holder
##
## defines how long before the duedate of an activity is reached, a notification will be send to the activityholder (assignee)
## the offset list is a comma seperated list, and each offset has its own localized notification
## IMPORTANT : modifying/adding date offsets, you need to search the resource bundles for
##             notificationTitleNotifyIncidentActivityHolder and notificationSubjectNotifyIncidentActivityHolder and apply
##             the same modifications in this file
configurationSetting,incident.notifications.notify_activity_holder.offset,14d\,7d
## defines the states the activities have to be in for notifications to be send
configurationSetting,incident.notifications.notify_activity_holder.for_activities_in_state,APPROVED

configurationSetting,incident.notifyOn.AdhocIncidentActivitiesApprovedEvent.creator.enabled,false
configurationSetting,incident.notifyOn.AdhocIncidentActivitiesApprovedEvent.owner.enabled,false
configurationSetting,incident.notifyOn.AdhocIncidentActivitiesApprovedEvent.assignee.enabled,true
configurationSetting,incident.notifyOn.AdhocIncidentActivitiesApprovedEvent.reporter.enabled,false
configurationSetting,incident.notifyOn.AdhocIncidentActivitiesApprovedEvent.roles,

system-permission,441,ApproveAdhocIncidentActivitiesCommand
@startTransaction
@method,setRepeating,system-permission,ApproveAdhocIncidentActivitiesCommand,role,owner
@method,set,system-permission,ApproveAdhocIncidentActivitiesCommand,entity,incident
@endTransaction


## the following three query specs are used in the three matching standard reports

@delete,queryspec,number,INCIDENTSLASTDAY,0
queryspec,INCIDENTSLASTDAY,,Incidents registered last day,,,,,Incidents registered last day,sysadmin,ibanx.incident.IncidentIF,true,1,GLOBAL,true
@startTransaction
@method,set,queryspec,INCIDENTSLASTDAY,key,form
@method,set,queryspec,INCIDENTSLASTDAY,form.submittedDate,
@method,set,queryspec,INCIDENTSLASTDAY,submittedDate_interpolationValue,-1d
@method,set,queryspec,INCIDENTSLASTDAY,between.form.submittedDate,
@method,set,queryspec,INCIDENTSLASTDAY,between.submittedDate_interpolationValue,1d
@method,set,queryspec,INCIDENTSLASTDAY,operator.form.submittedDate,16
@method,set,queryspec,INCIDENTSLASTDAY,objectClassName,ibanx.incident.IncidentIF
@method,set,queryspec,INCIDENTSLASTDAY,orderBy,submittedDate
@method,set,queryspec,INCIDENTSLASTDAY,ascending,true
@method,set,queryspec,INCIDENTSLASTDAY,reportSpecId,INCSTATS
@endTransaction

@delete,queryspec,number,INCIDENTSLASTWEEK,0
queryspec,INCIDENTSLASTWEEK,,Incidents registered last week,,,,,Incidents registered last week,sysadmin,ibanx.incident.IncidentIF,true,1,GLOBAL,true
@startTransaction
@method,set,queryspec,INCIDENTSLASTWEEK,key,form
@method,set,queryspec,INCIDENTSLASTWEEK,form.submittedDate,
@method,set,queryspec,INCIDENTSLASTWEEK,submittedDate_interpolationValue,-7d
@method,set,queryspec,INCIDENTSLASTWEEK,between.form.submittedDate,
@method,set,queryspec,INCIDENTSLASTWEEK,between.submittedDate_interpolationValue,1d
@method,set,queryspec,INCIDENTSLASTWEEK,operator.form.submittedDate,16
@method,set,queryspec,INCIDENTSLASTWEEK,objectClassName,ibanx.incident.IncidentIF
@method,set,queryspec,INCIDENTSLASTWEEK,orderBy,submittedDate
@method,set,queryspec,INCIDENTSLASTWEEK,ascending,true
@method,set,queryspec,INCIDENTSLASTWEEK,reportSpecId,INCSTATS
@endTransaction

@delete,queryspec,number,INCIDENTSLASTMONTH,0
queryspec,INCIDENTSLASTMONTH,,Incidents registered last month,,,,,Incidents registered last month,sysadmin,ibanx.incident.IncidentIF,true,1,GLOBAL,true
@startTransaction
@method,set,queryspec,INCIDENTSLASTMONTH,key,form
@method,set,queryspec,INCIDENTSLASTMONTH,form.submittedDate,
@method,set,queryspec,INCIDENTSLASTMONTH,submittedDate_interpolationValue,-28d
@method,set,queryspec,INCIDENTSLASTMONTH,between.form.submittedDate,
@method,set,queryspec,INCIDENTSLASTMONTH,between.submittedDate_interpolationValue,1d
@method,set,queryspec,INCIDENTSLASTMONTH,operator.form.submittedDate,16
@method,set,queryspec,INCIDENTSLASTMONTH,objectClassName,ibanx.incident.IncidentIF
@method,set,queryspec,INCIDENTSLASTMONTH,orderBy,submittedDate
@method,set,queryspec,INCIDENTSLASTMONTH,ascending,true
@method,set,queryspec,INCIDENTSLASTMONTH,reportSpecId,INCSTATS
@endTransaction

@delete,queryspec,number,OPENACTIVITIES,0
queryspec,OPENACTIVITIES,,Open activities,,,,,Open activities,sysadmin,ibanx.incident.IncidentActivityIF,true,1,GLOBAL,true
@startTransaction
@method,set,queryspec,OPENACTIVITIES,key,form
@method,set,queryspec,OPENACTIVITIES,operator.form.state,0
@method,set,queryspec,OPENACTIVITIES,form.state,APPROVED
@method,set,queryspec,OPENACTIVITIES,orderBy,dueDate
@method,set,queryspec,OPENACTIVITIES,ascending,true
@method,set,queryspec,OPENACTIVITIES,reportSpecId,INCSTATSTRAFFICLIGHT
@endTransaction

## picklist with periods for statistics for KPI reporting
vlist,kpiPeriods,KPI statistic periods
vitem,kpiPeriods,1d,Dag
vitem,kpiPeriods,1m,Maand
vitem,kpiPeriods,1y,Jaar

## MOC

## adjust the transitions to suite your customer configuration : set startPreparation to true on
## ALL (multiple flows are possible) transitions indicating the start of the preparations;
## set startImplementation to true on ALL (multiple flows are possible) transitions indicating the start of the implementation
## if you do not want these to be automatically set, remove these settings
## sets the startPreparationDate
@method,set,transition,CHANGE_SUBMITTED - CHANGE_FORAPPROVAL_FED_PRE_3,startPhase,preparation
## sets the startImplementationDate
@method,set,transition,CHANGE_PREPAREEXECUTION - CHANGE_IMPLEMENTATION,startPhase,implementation
## sets the finishedDate
@method,set,transition,CHANGE_IMPLEMENTATION - CHANGE_STARTUP,startPhase,startup
## sets the commissioningDate
@method,set,transition,CHANGE_STARTUP - CHANGE_CLOSED,startPhase,commissioned
